library(readr)
InterestRateData <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/InterestRateData.csv")
# 取出變數
InterestRateData %>% select(
銀行,
年月,
`定存利率-三個月-固定`,
`定存利率-一年期-固定`
) -> allBankData
library(readr)
InterestRateData <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/InterestRateData.csv")
# 取出變數
InterestRateData %>% select(
銀行,
年月,
`定存利率-三個月-固定`,
`定存利率-一年期-固定`
) -> allBankData
library(ggplot2)
library(ggplot2)
library(ggplot2)
library(ggplot2)
allBankData %>% ggplot(aes(x=年ㄩ,y=`定存利率-三個月-固定`))
allBankData %>% ggplot(aes(x=年ㄩ,y=`定存利率-三個月-固定`))
allBankData %>% ggplot(aes(x=年月,y=`定存利率-三個月-固定`))
allBankData %>% ggplot(aes(x=年 月,y=`定存利率-三個月-固定`))
allBankData %>% ggplot(aes(x=年月,y=`定存利率-三個月-固定`))
allBankData %>% ggplot(aes(x=年月,y=`定存利率-三個月-固定`))
allBankData %>% ggplot(aes(x=年月,y=`定存利率-三個月-固定`))
allBankData %>% ggplot(aes(x=年月,y=`定存利率-三個月-固定`))
library(lubridate)
allBankData$年季 %>% yq() ->
allBankData$年季
library(ggplot2)
library(lubridate)
allBankData$年月 %>% yq() ->
allBankData$年月
library(lubridate)
allBankData$年月 %>% yq() ->
allBankData$年月
library(ggplot2)
allBankData %>% ggplot(aes(x=年月,y=`定存利率-三個月-固定`))
allBankData %>% ggplot(aes(x=年月,y=`定存利率-三個月-固定`))
InterestRateData %>% select(
銀行,
年月,
`定存利率-三個月-固定`,
`定存利率-一年期-固定`
) -> allBankData
library(readr)
InterestRateData <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/InterestRateData.csv")
# 取出變數
InterestRateData %>% select(
銀行,
年月,
`定存利率-三個月-固定`,
`定存利率-一年期-固定`
) -> allBankData
library(lubridate)
allBankData$年月 %>% yq() ->
allBankData$年月
library(lubridate)
allBankData$年月 %>% yq() ->
allBankData$年月
library(ggplot2)
library(lubridate)
allBankData$年月 %>% yq() ->
allBankData$年月
library(lubridate)
allBankData$年月 %>% yq() ->
allBankData$年月
allBankData %>% ggplot(aes(x=年月,y=`定存利率-三個月-固定`))
allBankData %>% ggplot(aes(x=年月,y=`定存利率-三個月-固定`))
allBankData %>% ggplot(aes(x=年月,y=`定存利率-三個月-固定`))
allBankData %>% ggplot(aes(x=年月,y=`定存利率-三個月-固定`))
allBankData %>% ggplot2(aes(x=年月,y=`定存利率-三個月-固定`))
InterestRateData %>% ggplot(aes(x=年月,y=`定存利率-三個月-固定`))
InterestRateData %>% ggplot(aes(x=年月,y=`定存利率-三個月-固定`))
allBankData %>% ggplot(aes(x=年月,y=`定存利率-三個月-固定`))
library(readr)
InterestRateData <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/InterestRateData.csv")
# 取出變數
InterestRateData %>% select(
銀行,
年月,
`定存利率-三個月-固定`,
`定存利率-一年期-固定`
) -> allBankData
library(readr)
InterestRateData <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/InterestRateData.csv")
# 取出變數
InterestRateData %>% select(
銀行,
年月,
`定存利率-三個月-固定`,
`定存利率-一年期-固定`
) -> allBankData
# 取出變數
InterestRateData %>% select(
銀行,
年月,
`定存利率-三個月-固定`
) -> allBankData
# 取出變數
InterestRateData %>% select(
銀行,
年月,
`定存利率-三個月-固定`
) -> allBankData
library(dplyr)
# 取出變數
InterestRateData %>% select(
銀行,
年月,
`定存利率-三個月-固定`
) -> allBankData
# 取出變數
InterestRateData %>% select(
銀行,
年月,
`定存利率-三個月-固定`
) -> allBankData
library(ggplot2)
allBankData %>% ggplot(aes(x=年月,y=`定存利率-三個月-固定`))
allBankData %>%
mutate_at(vars(-銀行,-年月),funs(as.numeric(.))) ->
allBankData
library(stringr)
library(lubridate)
allBankData$年月 %>%
str_c("1",.,"/01") %>%
ymd()+years(911) -> allBankData$年月
allBankData %>% filter(!is.na(年月)) -> allBankData
library(ggplot2)
library(ggplot2)
allBankData %>% ggplot(aes(x=年月,y=`定存利率-三個月-固定`))
library(dplyr)
theme_set(theme_classic())
allBankData %>% ggplot(aes(x=年季,y=`定存利率-三個月-固定`)) + geom_line()
theme_set(theme_classic())
allBankData %>% ggplot(aes(x=年月,y=`定存利率-三個月-固定`)) + geom_line()
theme_set(theme_classic())
allBankData %>% ggplot(aes(x=年月,y=`定存利率-三個月-固定`,color=銀行))) + geom_line()
theme_set(theme_classic())
allBankData %>% ggplot(aes(x=年月,y=`定存利率-三個月-固定`)) + geom_line()
theme_set(theme_classic())
allBankData %>% ggplot(aes(x=年月,y=`定存利率-三個月-固定`)) + geom_line()
scale_color_brewer(type="qual")
theme_set(theme_classic())
allBankData %>% ggplot(aes(x=年月,y=`定存利率-三個月-固定`)) + geom_line()
geom_line() -> CAfig
CAfig
CAfig +
geom_line(data=FAdata, linetype="longdash")
CAfig +
geom_line(data=allBankData, linetype="longdash")
# 產生利差
allBankData %>% mutate(利差=`定存利率-一年期-固定`-`定存利率-三個月-固定`) -> allBankData
library(ggplot2)
allBankData %>% ggplot(aes(x=年月,y=`定存利率-三個月-固定`))
theme_set(theme_classic())
allBankData %>% ggplot(aes(x=年月,y=`定存利率-三個月-固定`)) + geom_line()
geom_line() -> CAfig
CAfig
averageBankData %>%
ggplot()+
geom_line(aes(x=年月,y=平均利率))+
geom_point(aes(x=年月,y=平均利率,alpha=平均利差),color='red')
allBankData %>% ggplot()+
geom_line(aes(x=年月,y=`定存利率-三個月-固定`,
color=銀行))
allBankData %>% ggplot()+
geom_line(aes(x=年月,y=`定存利率-三個月-固定`,
color=銀行))+
scale_color_brewer(type="qual")
averageBankData %>%
ggplot()+
geom_line(aes(x=年月,y=平均利率))+
geom_point(aes(x=年月,y=平均利率,alpha=平均利差),color='red')
allBankData %>%
select(年月,`定存利率-三個月-固定`,利差) %>%
group_by(年月) %>%
summarise(
平均利率=mean(`定存利率-三個月-固定`,na.rm=T),
平均利差=mean(利差,na.rm = T)) -> averageBankData
allBankData %>% mutate(利差=`定存利率-一年期-固定`-`定存利率-三個月-固定`) -> allBankData
allBankData %>%
select(年月,`定存利率-三個月-固定`,利差) %>%
group_by(年月) %>%
summarise(
平均利率=mean(`定存利率-三個月-固定`,na.rm=T),
平均利差=mean(利差,na.rm = T)) -> averageBankData
allBankData %>%
ggplot()+
geom_line(aes(x=年月,y=平均利率))+
geom_point(aes(x=年月,y=平均利率,alpha=平均利差),color='red')
allBankData %>%
ggplot()+
geom_line(aes(x=年月,y=平均利率))+
geom_point(aes(x=年月,y=平均利率,alpha=平均利差),color='red')
InterestRateData %>% select(
銀行,
年月,
`平均利率`
) -> allBankData
library(dplyr)
InterestRateData %>% select(
銀行,
年月,
`平均利率`
) -> allBankData
InterestRateData %>% select(
銀行,
年月,
`平均利率`
) -> allBankData
InterestRateData %>% select(
銀行,
年月,
`平均利率`
) -> allBankData
allBankData %>% mutate(利差=`定存利率-一年期-固定`-`定存利率-三個月-固定`) -> allBankData
allBankData %>%
select(年月,`定存利率-三個月-固定`,利差) %>%
group_by(年月) %>%
summarise(
平均利率=mean(`定存利率-三個月-固定`,na.rm=T),
平均利差=mean(利差,na.rm = T)) -> averageBankData
```{r}
```{r}
```{r}
```{r}
```{r}
```{r}
```{r}
allBankData %>% mutate(利差=`定存利率-一年期-固定`-`定存利率-三個月-固定`) -> allBankData
allBankData %>%
select(年月,`定存利率-三個月-固定`,利差) %>%
group_by(年月) %>%
summarise(
平均利率=mean(`定存利率-三個月-固定`,na.rm=T),
平均利差=mean(利差,na.rm = T)) -> averageBankData
allBankData %>%
select(年月,`定存利率-三個月-固定`,利差) %>%
group_by(年月) %>%
summarise(
平均利率=mean(`定存利率-三個月-固定`,na.rm=T),
平均利差=mean(利差,na.rm = T)) -> averageBankData
averageBankData %>%
ggplot()+
geom_line(aes(x=年月,y=平均利率))+
geom_point(aes(x=年月,y=平均利率,alpha=平均利差),color='red')
# 產生利差
allBankData %>% mutate(利差=`定存利率-一年期-固定`-`定存利率-三個月-固定`) -> allBankData
library(readr)
InterestRateData <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/InterestRateData.csv")
library(dplyr)
# 取出變數
InterestRateData %>% select(
銀行,
年月,
`定存利率-三個月-固定`
) -> allBankData
allBankData %>%
mutate_at(vars(-銀行,-年月),funs(as.numeric(.))) ->
allBankData
library(stringr)
library(lubridate)
allBankData$年月 %>%
str_c("1",.,"/01") %>%
ymd()+years(911) -> allBankData$年月
allBankData %>% filter(!is.na(年月)) -> allBankData
# 產生利差
allBankData %>% mutate(利差=`定存利率-一年期-固定`-`定存利率-三個月-固定`) -> allBankData
averageBankData %>%
ggplot()+
geom_line(aes(x=年月,y=平均利率))+
geom_point(aes(x=年月,y=平均利率,alpha=平均利差),color='red')
averageBankData %>%
ggplot()+
geom_line(aes(x=年月,y=平均利率))+
geom_point(aes(x=年月,y=平均利率,color=平均利差))+
scale_color_distiller(type="div")
averageBankData %>%
ggplot()+
geom_line(aes(x=年月,y=平均利率))+
geom_point(aes(x=年月,y=平均利率,color=平均利差))+
scale_color_distiller(type="div")
allBankData %>%
ggplot()+
geom_line(aes(x=年月,y=平均利率))+
geom_point(aes(x=年月,y=平均利率,color=平均利差))+
scale_color_distiller(type="div")
library(dplyr)
# 產生利差
allBankData %>% mutate(利差=`定存利率-一年期-固定`-`定存利率-三個月-固定`) -> allBankData
install.packages("mutate")
# 產生利差
allBankData %>% mutate(利差=`定存利率-一年期-固定`-`定存利率-三個月-固定`) -> allBankData
View(allBankData)
View(CAfig)
View(allBankData)
